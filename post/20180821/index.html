<!doctype html><html lang=ja><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image:src content="https://mom0tomo.github.io/images/avatar.png"><meta name=twitter:title content="golang.tokyo #17 -テストの話- 参加レポート"><meta name=twitter:description content="freeeさんで開催されたgolang.tokyoに参加しました。久しぶりのgolang.tokyo！ freeeさんは最近マイクロサービス化"><meta name=twitter:site content="@mom0tomo"><meta name=twitter:creator content="@"><meta name=description content><meta name=generator content="Hugo 0.81.0"><title>golang.tokyo #17 -テストの話- 参加レポート &#183; mom0tomo</title><link rel="shortcut icon" href=https://mom0tomo.github.io/images/favicon.ico><link rel=stylesheet href=https://mom0tomo.github.io/css/style.css><link rel=stylesheet href=https://mom0tomo.github.io/css/highlight.css><link rel=stylesheet href=https://mom0tomo.github.io/css/monosocialiconsfont.css><link href=https://mom0tomo.github.io/index.xml rel=alternate type=application/rss+xml title=mom0tomo><link rel=stylesheet href=https://mom0tomo.github.io/css/custom.css><script type=text/javascript src=http://s.hatena.ne.jp/js/HatenaStar.js></script><script type=text/javascript>Hatena.Star.Token='439b2988ff9e3560541978cfebab857d59ac4047',Hatena.Star.SiteConfig={entryNodes:{'section#wrapper':{uri:'div.posted a',title:'h1',container:'span.hatena-star'}}}</script></head><body><nav class=main-nav><a href=https://mom0tomo.github.io/><span class=arrow>← </span>Home</a>
<a href=https://mom0tomo.github.io/post>Archives</a>
<a href=https://mom0tomo.github.io/tags>Tag</a>
<a href=https://mom0tomo.github.io/about>About</a>
<a href=https://mom0tomo.github.io/index.xml class=symbol style=font-size:15px>rss</a></nav><section id=wrapper><article class=post><header><h1>golang.tokyo #17 -テストの話- 参加レポート</h1><div class=posted style=display:none><a href=https://mom0tomo.github.io/post/20180821/>golang.tokyo #17 -テストの話- 参加レポート</a></div><h2 class=headline>Aug 21, 2018 22:57
· 1706 words
· 4 minutes read
<span class=tags><a href=https://mom0tomo.github.io/tags/go>Go</a>
<a href=https://mom0tomo.github.io/tags/event>event</a></span></h2></header><div id=toc><nav id=TableOfContents><ul><li><a href=#登壇1-tour-of-testingbudougumi0617さんhttpstcoyaheb71yrd>登壇#1 <a href=https://t.co/yaHeB71yRD>「Tour of testing」@budougumi0617さん</a></a></li><li><a href=#登壇2-非公開な機能を使ったテストtenntennさんhttpsspeakerdeckcombudougumi0617tour-of-testing-in-2018>登壇#2 <a href=https://speakerdeck.com/budougumi0617/tour-of-testing-in-2018>「非公開な機能を使ったテスト」@tenntennさん</a></a></li><li><a href=#lt1-外部部環境への依存をテストする-by-duck8823さんhttpswwwslidesharenetshunsukemaedass-110757746>LT#1 <a href=https://www.slideshare.net/ShunsukeMaeda/ss-110757746>「外部部環境への依存をテストする」 by duck8823さん</a></a></li><li><a href=#lt2-developer-friendly-なテストを考える-by-izumin5210さんhttpsspeakerdeckcomizumin5210tips-for-develoepr-friendly-testing-number-golangtokyo>LT#2 <a href=https://speakerdeck.com/izumin5210/tips-for-develoepr-friendly-testing-number-golangtokyo>「Developer-friendly なテストを考える」 by izumin5210さん</a></a></li><li><a href=#lt3-止めたいのに止められないテストの話-by-knsh14さんhttpstalksgodocorggithubcomknsh14go-slideslt-go-test-failfastslide1>LT#3 <a href=https://talks.godoc.org/github.com/knsh14/go-slides/lt-go-test-failfast.slide#1>「止めたいのに止められないテストの話」 by knsh14さん</a></a></li><li><a href=#感想など>感想など</a></li></ul></nav></div><section id=post-body><p>freeeさんで開催されたgolang.tokyoに参加しました。
久しぶりのgolang.tokyo！</p><p>freeeさんは最近マイクロサービス化を進めていて、Goのプロダクトも4つの本番稼働しているとのこと。
表に出ている求人はまだRails推しだけど、社内ではGoも積極的に使っているそうです。</p><hr><h2 id=登壇1-tour-of-testingbudougumi0617さんhttpstcoyaheb71yrd>登壇#1 <a href=https://t.co/yaHeB71yRD>「Tour of testing」@budougumi0617さん</a></h2><p>いつもtwitterでお見かけしてるけど会うのは初めだったbudougumiさん！</p><p>Goのテストについて、基本的なところをわかりやすくまとめていただいだ上で、Go 1.10から追加された <code>go vet</code>や <code>Test cache</code>、 <code>-parallel</code>オプション、デバッガなどの新しい機能をご紹介いただきました。</p><p>わかりやすいサンプルコードもついていて、Goのテストを書く人みんなにありがたいまとめ。
発表資料は、今後テストを書くときに見返すことになりそうです。</p><hr><h2 id=登壇2-非公開な機能を使ったテストtenntennさんhttpsspeakerdeckcombudougumi0617tour-of-testing-in-2018>登壇#2 <a href=https://speakerdeck.com/budougumi0617/tour-of-testing-in-2018>「非公開な機能を使ったテスト」@tenntennさん</a></h2><p>Women Who Go Tokyoでいつもお世話になっているtenntennさん！</p><p>メルカリ社の「Go Friday」という社内勉強会でお話しして、ブログにもなった内容をさらに詳しく解説いただきました。</p><p><a href=https://tech.mercari.com/entry/2018/08/08/080000>Go Fridayの記事はこちら。</a></p><p>Goのテストではテスト対象とテストコードを別パッケージにできるのですが、別パッケージにすると、パッケージ内にしか公開されていないメソッドや変数などにアクセスできなくなってしまいます。</p><p>この課題に対処するために、テスト対象と同じパッケージ内にexport_test.goというファイルを置き、これを経由することでパッケージ内にしか公開されていないメソッドや変数などをテストコードにだけ公開できるようにするという手法を紹介いただきました。</p><p>なお後半はハック的な手法の紹介もあり、会場からは笑いがもれていました。</p><p>また会場でデモとして公開されたコードのサンプルで公開してほしいという声もちらほら聞かれたので、公開期待しています！</p><hr><h2 id=lt1-外部部環境への依存をテストする-by-duck8823さんhttpswwwslidesharenetshunsukemaedass-110757746>LT#1 <a href=https://www.slideshare.net/ShunsukeMaeda/ss-110757746>「外部部環境への依存をテストする」 by duck8823さん</a></h2><p>普段はサーバーサイドKotlinを書いていて、Goは趣味だそう。</p><p><a href=https://t.co/Ktxw4TMb9b>duci</a>というDocke内で動くCIサーバをつくる際にテストで詰まったことのお話でした。</p><p>DockerやGithubのサードパーティライブラリを使う際のテストのやり方や、モックサーバーを立ててテストをする方法などをご紹介いただきました。</p><hr><h2 id=lt2-developer-friendly-なテストを考える-by-izumin5210さんhttpsspeakerdeckcomizumin5210tips-for-develoepr-friendly-testing-number-golangtokyo>LT#2 <a href=https://speakerdeck.com/izumin5210/tips-for-develoepr-friendly-testing-number-golangtokyo>「Developer-friendly なテストを考える」 by izumin5210さん</a></h2><p>開発者フレンドリーなテストの書き方のお話でした。</p><p>テストが落ちたときに修正しやすい書き方をご紹介いただきました。
またGoのテストでは途中でpanicで停止させずに最後まで走らせることが大事ということで、テストを完走させるためのテクニックも教えていただきました。</p><hr><h2 id=lt3-止めたいのに止められないテストの話-by-knsh14さんhttpstalksgodocorggithubcomknsh14go-slideslt-go-test-failfastslide1>LT#3 <a href=https://talks.godoc.org/github.com/knsh14/go-slides/lt-go-test-failfast.slide#1>「止めたいのに止められないテストの話」 by knsh14さん</a></h2><p>from メルペイ</p><p>Women Who Go Tokyoでいつもお手伝いいただいているknsh14さん。</p><p>テストが落ちたら即ストップして、テストの時間を短くしたいというお話でした。</p><p><code>go test -fali-test</code> コマンドが使いたいのにバグがあって思ったように挙動しない、ということで調査した内容を紹介いただきました。</p><p>なおこの不具合はGo 1.11で修正されたそうです。
明日のリリースパーティに間に合ってよかった！</p><hr><h2 id=感想など>感想など</h2><p>最近は仕事でRailsばかり書いているのですが、金曜日（8月24日）からGopherConに参加するためデンバーに行くので、Goを書いていくぞというきもちです。（先週末の会社の開発合宿では書いた）</p><p>ここのところ、小さいものでもたいしたことないものでいいから楽しいと思うものをつくって、コツコツ積み重ねていくのが大事だなと今まで以上に感じています。</p><p>自分でコードを書くと理解も深まるし、継続してコードを書くことで、コードを書くのが好き！と言える体力を維持できる気がしています。</p><p>golang.tokyo、Go1.11リリースパーティー、GopherConと立て続けに参加して、モチベーション上げてたくさんGoを書いていく所存です。</p></section></article><div class=social><div class=social-inner><a href=https://twitter.com/share class=twitter-share-button data-via=mom0tomo data-count=horizontal lang=en>Tweet</a> <script>!function(a,c,d){var b,e=a.getElementsByTagName(c)[0],f=/^http:/.test(a.location)?'http':'https';a.getElementById(d)||(b=a.createElement(c),b.id=d,b.src=f+'://platform.twitter.com/widgets.js',e.parentNode.insertBefore(b,e))}(document,'script','twitter-wjs')</script><a href=http://b.hatena.ne.jp/entry/ class=hatena-bookmark-button data-hatena-bookmark-layout=simple-balloon title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style=border:none></a><script type=text/javascript src=https://b.st-hatena.com/js/bookmark_button.js async></script>
<a data-pocket-label=pocket data-pocket-count=horizontal class=pocket-btn data-lang=en></a><script type=text/javascript>!function(a,c){var b,d;a.getElementById(c)||(b=a.createElement("script"),b.id=c,b.src="https://widgets.getpocket.com/v1/j/btn.js?v=1",d=a.getElementById(c),a.body.appendChild(b))}(document,"pocket-btn-js")</script><span class=hatena-star></span></div></div><div class=related-posts><h4>関連記事</h4><ul><li><a href=/post/20180226/>Wedding Park TECH TALK #2 GolangでLTをしました</a></li><li><a href=/post/20171009/>DevFestTokyo2017で登壇しました</a></li><li><a href=/post/20170810/>eureka Meetup #06 -Go! Go! Go!-</a></li></ul></div></section><script src=https://mom0tomo.github.io/js/jquery-3.3.1.min.js></script><script src=https://mom0tomo.github.io/js/main.js></script><script src=https://mom0tomo.github.io/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-104531981-1','auto'),ga('send','pageview'))</script></body></html>